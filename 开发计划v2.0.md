目前的痛点在于：“RSI < 30” 只是一个“现象”，而不是一个“买点”。 在 A 股的单边下跌行情中，RSI 可能长期在 20 徘徊（钝化），用户进去就是接飞刀。
为了帮助用户**“更好地判断交易点位”，你需要引入“过滤系统”和“验证系统”**。以下是基于你现有代码结构的深度扩展建议：
一、 策略层面的扩展：引入“过滤器” (Signal Filters)
你需要修改 indicator.py 和 signal.py，不再单看 RSI，而是引入辅助指标来过滤假信号。

1. 趋势过滤（避免逆势接飞刀）
   痛点： 熊市中 RSI 频繁超卖，买入即套。
   接入方案： 引入 MA (移动平均线)。
   逻辑：
   计算 MA200（牛熊分界线）或 MA60。
   策略升级：
   当 Price > MA60（上升趋势）：RSI < 35 即可报警（激进）。
   当 Price < MA60（下降趋势）：RSI 必须 < 20 才报警（保守），甚至直接屏蔽报警。
   代码变动： indicator.py 增加 MA 计算；signal.py 增加趋势判断逻辑。
2. 波动率过滤（布林带）
   痛点： 窄幅震荡时的 RSI 参考意义不大。
   接入方案： 引入 Bollinger Bands (布林带)。
   逻辑：
   共振信号： 当 RSI < 30 且 当前价格触及布林带下轨 时，报警权重设为“高”。这通常意味着价格偏离度过大，回归概率高。
3. 抄底确认（K 线形态 + 成交量）
   痛点： 左侧交易风险大，不知道何时止跌。
   接入方案： 简单的形态识别。
   逻辑：
   在 RSI < 30 后的 N 个周期内，监测是否出现 “放量”（Volume > 5 日均量 \* 1.5）或 “长下影线”。
   如果只做即时报警，可以增加一个指标：量价背离（价格创新低，但 RSI 未创新低）。
   二、 数据维度的扩展：从个股到大局
   你需要扩展 market_data.py，获取更广泛的上下文数据。
4. 市场情绪指数（大盘环境）
   原理： 覆巢之下无完卵。如果不看大盘只看个股，胜率会很低。
   功能：
   在扫描个股前，先检查 上证指数 (000001) 的状态。
   如果大盘当日跌幅 > 2% 或 大盘 RSI 死叉，自动抑制所有买入报警，或者在推送消息中加注：“⚠️ 大盘环境恶劣，谨慎操作”。
5. 板块效应
   原理： A 股是板块轮动的。
   功能：
   利用 AkShare 获取该股票所属的 行业板块 数据。
   判断点位：个股 RSI 低位 + 所属板块指数也处于支撑位 = 高胜率。
   三、 功能模块的扩展：让用户“看得懂、敢下手”
   这是让项目从“脚本”变成“产品”的关键。
6. K 线可视化 (Frontend Upgrade)
   现状： 用户收到报警 -> 打开炒股软件 -> 搜代码 -> 看图。路径太长。
   改进： 在 StockList.vue 或详情页中集成 TradingView Lightweight Charts（轻量级、开源、Vue 适配好）。
   实现：
   在前端直接渲染该股票的 K 线图。
   关键点： 在图表上自动标记出 “报警点”（比如在触发 RSI < 30 的那根 K 线上画一个箭头）。这样用户一眼就能看到历史上的报警点是否准确。
7. 实时回测系统 (The "Killer Feature")
   现状： 用户凭感觉设置 30 或 20。
   改进： 新增 backtest_service.py。
   交互：
   用户在前端设置 RSI 阈值为 25。
   后端立即跑一遍过去一年的数据。
   前端显示：“如果过去一年按 RSI<25 买入，持有 5 天卖出，共触发 12 次，胜率 66%，总收益 +15%。”
   价值： 这能极大地增强用户对报警信号的信心。
8. 智能止损/止盈建议 (Risk Management)
   现状： 只管杀（买入），不管埋（卖出）。
   改进： 在推送消息中附带建议。
   逻辑：
   利用 ATR (平均真实波幅) 计算止损位。
   推送文案示例：
   🚀 茅台 (600519) 触发超卖信号
   当前 RSI: 28.5
   建议价格: 1600
   建议止损: 1580 (基于 2 倍 ATR)
   趋势状态: 🟢 上升趋势回调 (MA60 之上)
